# 模块设计

如 README 所说，大部分代码都是老师直接给出的。因此有必要研究一下每一个模块发挥了什么功用。

## 基础模块

- `dff32`：一个 32 位输出的 D Flip Flop。用于实现 PC。初始上电时值为 -4。
- `mux2x32`：二路多选器。用于较多位置。
- `lpm_rom_irom`：Altera 自带的 ROM 模块。用于实现指令存储器（只读）。
- `lpm_ram_dq_dram`：Altera 自带的 RAM 模块。用于实现数据存储器（可读可写）。

## 计算机主体部分

主体部分的顶层模块为 `sc_computer_main`，对下列对象进行了实例化。

- `alu`：算术逻辑单元。
- `clock_and_mem_clock`：时钟输入模块。采用主时钟输入，模块内部产生 CPU 时钟和存储器读写时钟并输出。
- `sc_cu`：控制单元。采用组合逻辑的方式产生控制信号。
- `sc_cpu`：处理器单元。
- `io_input`：用于处理 I/O 输入的模块。
  - `io_input_mux`：一个专用的多选器。
- `io_output`：用于处理 I/O 输出的模块。
- `sc_datamem`：数据存储器部分，包括对 I/O 读写的相关处理（因为采用的是 I/O 统一编址的方法）。
- `sc_instmem`：指令存储器部分。

## 外部设备

- `in_port`：外部输入设备，可以输入两个 5 比特数。
- `out_port_seg`：外部输出设备，包含两个七位译码器。
  - `sevenseg`：描述七位译码器的模块。